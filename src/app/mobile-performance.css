/* Enhanced Mobile Performance Optimizations */

/* Base performance optimizations for all devices */
* {
  box-sizing: border-box;
}

/* Optimize smooth scrolling container */
#smooth-wrapper {
  overflow: hidden;
  position: relative;
  width: 100%;
  height: 100vh;
}

#smooth-content {
  min-height: 100vh;
  position: relative;
}

/* Mobile-specific optimizations */
@media (max-width: 991px) {
  /* Optimize animated elements with will-change */
  .tp_fade_bottom, 
  .tp_fade_top, 
  .tp_fade_left,
  .tp_fade_right {
    will-change: transform, opacity;
    transform: translateZ(0); /* Force hardware acceleration */
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }
  
  /* Optimize smooth content for better performance */
  #smooth-content {
    will-change: transform;
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000px;
    perspective: 1000px;
  }
  
  /* Optimize heavy animation elements */
  .gsap-split-word, 
  .gsap-split-chars,
  .tp-reveal-line,
  .tp-reveal-line-2 {
    will-change: transform;
    transform: translateZ(0);
  }
  
  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    .tp_fade_bottom, 
    .tp_fade_top, 
    .tp_fade_left,
    .tp_fade_right,
    .gsap-split-word, 
    .gsap-split-chars,
    .tp-reveal-line,
    .tp-reveal-line-2 {
      will-change: auto;
      transform: none;
      animation: none !important;
      transition: none !important;
    }
  }
  
  /* iOS-specific optimizations */
  @supports (-webkit-touch-callout: none) {
    body {
      /* iOS-specific optimizations */
      -webkit-overflow-scrolling: touch;
      -webkit-text-size-adjust: 100%;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    /* Force hardware acceleration on iOS devices */
    #smooth-wrapper,
    #smooth-content,
    .tp_fade_bottom, 
    .tp_fade_top, 
    .tp_fade_left,
    .tp_fade_right {
      -webkit-transform: translate3d(0, 0, 0);
      transform: translate3d(0, 0, 0);
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }
    
    /* Optimize scrolling performance on iOS */
    .tp-smooth-scroll {
      -webkit-overflow-scrolling: touch;
    }
  }
  
  /* Android-specific optimizations */
  @supports not (-webkit-touch-callout: none) {
    body {
      /* Android optimizations */
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    /* Optimize for Android Chrome */
    #smooth-wrapper,
    #smooth-content {
      transform: translateZ(0);
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }
  }
}

/* Tablet optimizations */
@media (min-width: 768px) and (max-width: 1024px) {
  .tp_fade_bottom, 
  .tp_fade_top, 
  .tp_fade_left,
  .tp_fade_right {
    will-change: transform, opacity;
    transform: translateZ(0);
  }
  
  #smooth-content {
    will-change: transform;
    transform: translateZ(0);
  }
}

/* Desktop optimizations */
@media (min-width: 1025px) {
  /* Optimize for high-performance devices */
  .tp_fade_bottom, 
  .tp_fade_top, 
  .tp_fade_left,
  .tp_fade_right {
    will-change: transform, opacity;
  }
  
  #smooth-content {
    will-change: transform;
  }
}

/* Performance optimizations for images */
img {
  max-width: 100%;
  height: auto;
  -webkit-user-drag: none;
  -khtml-user-drag: none;
  -moz-user-drag: none;
  -o-user-drag: none;
  user-drag: none;
}

/* Optimize for better touch response */
button, 
a, 
[role="button"] {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* Optimize for better scroll performance */
html {
  scroll-behavior: smooth;
}

/* Reduce layout thrashing */
.container,
.container-fluid {
  contain: layout style paint;
}

/* Optimize for better rendering performance */
.tp-section {
  contain: layout style;
}

/* Optimize for better animation performance */
.tp-animation {
  contain: layout style paint;
} 